<!DOCTYPE html>
<html class="dark-theme">
<head>
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link
    href="https://fonts.googleapis.com/css2?family=Stack+Sans+Text:wght@200..700&display=swap"
    rel="stylesheet"
  />

  <link rel="stylesheet" href="style.css" />
  <title>FAKEnetflix</title>
</head>
<body class="dark-theme">
  <div class="header">
    <img
      src="iamge/Logo/201563513-c2c7a03a-7ee0-4fea-869c-76f83f2557ac.png"
      width="200"
      alt="FAKEnetflix Logo"
    />

    <!-- Movie Search Bar -->
    <div class="search-container">
      <input 
        type="text" 
        id="movieSearchInput" 
        class="search-input" 
        placeholder="Search movies from OMDB..."
        autocomplete="off"
      />
      <button id="searchButton" class="search-button">
        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <circle cx="11" cy="11" r="8"></circle>
          <path d="m21 21-4.35-4.35"></path>
        </svg>
      </button>
    </div>

    <div class="header-Links header-margin" >
      <a href="index.html">Home</a>
      <a href="#footerFQC">FQC</a>
        <a class="sign-in-link" href="CreatAccount.html">Sign in</a>
      <!-- From Uiverse.io by alexruix -->
      <label class="switch">
        <input type="checkbox" />
        <span class="slider"></span>
      </label>

      
    </div>
  </div>

  <!-- Search Results Modal -->
  <div id="searchResultsModal" class="search-modal" style="display: none;">
    <div class="search-modal-content">
      <div class="search-modal-header">
        <h2>Search Results</h2>
        <button id="closeSearchModal" class="close-modal-btn">&times;</button>
      </div>
      <div id="searchResultsContainer" class="search-results-grid">
        <!-- Results will be loaded here -->
      </div>
      <div id="searchLoading" class="search-loading" style="display: none;">
        <div class="spinner"></div>
        <p>Searching movies...</p>
      </div>
      <div id="searchError" class="search-error" style="display: none;"></div>
    </div>
  </div>

  <!-- Movie Details Modal -->
  <div id="movieDetailsModal" class="search-modal" style="display: none;">
    <div class="movie-details-content">
      <button id="closeDetailsModal" class="close-modal-btn">&times;</button>
      <div id="movieDetailsContainer">
        <!-- Movie details will be loaded here -->
      </div>
    </div>
  </div>

  <div class="container">
    <div class="content-container">
        <div class="featured-content" style="background-image: linear-gradient(to bottom, rgba(0,0,0,0), #151515), url('iamge/f-1.jpg'); background-size: cover; background-position: center; background-repeat: no-repeat;"></div>
          <img class="featured-title" src="iamge/f-t-1.png" alt="">
          <p class="featured-desc">With the help of a German bounty-hunter, a freed slave sets out to rescue his wife from a brutal plantation owner in Mississippi.</p>
        <a href="ChoosePlace.html">
          <button class="featured-button">Buy</button>
        </a>    
        </div>
        <div class="moive-list-container">
            <h1 class="moive-list-title">Newest Moive</h1>
            <div class="moive-list-wrapper">
                <div class="moive-list">
                    <div class="moive-list-item">
                        <img class="moive-list-item-iamge" src="iamge/1.jpeg" alt="Movie 1">
                        <span class="moive-list-item-title">Her</span>
                        <p class="moive-list-itme-desc">In the near future, a lonely writer develops an unlikely relationship with an operating system designed to meet his every need.</p>
                        <a href="ChoosePlace.html">
                          <button class="moive-list-item-button">Buy</button>
                        </a>
                    </div>
                    <div class="moive-list-item">
                        <img class="moive-list-item-iamge" src="iamge/2.jpeg" alt="Movie 2">
                        <span class="moive-list-item-title">Star wars</span>
                        <p class="moive-list-itme-desc">Experience an exciting adventure in this thrilling film.</p>
                        <a href="ChoosePlace.html">
                          <button class="moive-list-item-button">Buy</button>
                        </a>
                    </div>
                    <div class="moive-list-item">
                        <img class="moive-list-item-iamge" src="iamge/3.jpg" alt="Movie 3">
                        <span class="moive-list-item-title">Storm</span>
                        <p class="moive-list-itme-desc">A captivating story that will keep you on the edge of your seat.</p>
                        <a href="ChoosePlace.html">
                          <button class="moive-list-item-button">Buy</button>
                        </a>
                    </div>
                    <div class="moive-list-item">
                        <img class="moive-list-item-iamge" src="iamge/4.jpg" alt="Movie 4">
                        <span class="moive-list-item-title">1920</span>
                        <p class="moive-list-itme-desc">Discover a world of mystery and intrigue.</p>
                        <a href="ChoosePlace.html">
                          <button class="moive-list-item-button">Buy</button>
                        </a>
                    </div>
                    <div class="moive-list-item">
                        <img class="moive-list-item-iamge" src="iamge/5.jpg" alt="Movie 5">
                        <span class="moive-list-item-title">Marvile</span>
                        <p class="moive-list-itme-desc">An epic journey through time and space.</p>
                        <a href="ChoosePlace.html">
                          <button class="moive-list-item-button">Buy</button>
                        </a>
                    </div>
                    <div class="moive-list-item">
                        <img class="moive-list-item-iamge" src="iamge/6.jpg" alt="Movie 6">
                        <span class="moive-list-item-title">The man</span>
                        <p class="moive-list-itme-desc">Action-packed scenes and unforgettable characters.</p>
                        <a href="ChoosePlace.html">
                          <button class="moive-list-item-button">Buy</button>
                        </a>
                    </div>
                    <div class="moive-list-item">
                        <img class="moive-list-item-iamge" src="iamge/7.jpg" alt="Movie 7">
                        <span class="moive-list-item-title">One Day left</span>
                        <p class="moive-list-itme-desc">A heartwarming tale of friendship and courage.</p>
                        <a href="ChoosePlace.html">
                          <button class="moive-list-item-button">Buy</button>
                        </a>
                    </div>
                    <div class="moive-list-item">
                        <img class="moive-list-item-iamge" src="iamge/8.jpg" alt="Movie 8">
                        <span class="moive-list-item-title">Obil</span>
                        <p class="moive-list-itme-desc">Suspenseful thriller that will leave you guessing.</p>
                        <a href="ChoosePlace.html">
                          <button class="moive-list-item-button">Buy</button>
                        </a>
                    </div>
                    <div class="moive-list-item">
                        <img class="moive-list-item-iamge" src="iamge/9.jpg" alt="Movie 9">
                        <span class="moive-list-item-title">Hobbit</span>
                        <p class="moive-list-itme-desc">A comedy that will make you laugh out loud.</p>
                        <a href="ChoosePlace.html">
                          <button class="moive-list-item-button">Buy</button>
                        </a>
                    </div>
                    <div class="moive-list-item">
                        <img class="moive-list-item-iamge" src="iamge/10.jpg" alt="Movie 10">
                        <span class="moive-list-item-title">Due</span>
                        <p class="moive-list-itme-desc">Drama filled with emotion and powerful performances.</p>
                        <a href="ChoosePlace.html">
                          <button class="moive-list-item-button">Buy</button>
                        </a>
                    </div>
                    <div class="moive-list-item">
                        <img class="moive-list-item-iamge" src="iamge/11.jpg" alt="Movie 11">
                        <span class="moive-list-item-title">KICK ÿπŸäÿ®</span>
                        <p class="moive-list-itme-desc">Sci-fi adventure that explores the unknown.</p>
                        <a href="ChoosePlace.html">
                          <button class="moive-list-item-button">Buy</button>
                        </a>
                    </div>
                    <div class="moive-list-item">
                        <img class="moive-list-item-iamge" src="iamge/12.jpg" alt="Movie 12">
                        <span class="moive-list-item-title">Emojje</span>
                        <p class="moive-list-itme-desc">Romance that will touch your heart.</p>
                        <a href="ChoosePlace.html">
                          <button class="moive-list-item-button">Buy</button>
                        </a>
                    </div>
                    <div class="moive-list-item">
                        <img class="moive-list-item-iamge" src="iamge/13.jpg" alt="Movie 13">
                        <span class="moive-list-item-title">Movie 13</span>
                        <p class="moive-list-itme-desc">Horror that will keep you up at night.</p>
                        <a href="ChoosePlace.html">
                          <button class="moive-list-item-button">Buy</button>
                        </a>
                    </div>
                    <div class="moive-list-item">
                        <img class="moive-list-item-iamge" src="iamge/14.jpg" alt="Movie 14">
                        <span class="moive-list-item-title">Movie 14</span>
                        <p class="moive-list-itme-desc">Fantasy world with magical creatures and adventures.</p>
                        <a href="ChoosePlace.html">
                          <button class="moive-list-item-button">Buy</button>
                        </a>
                    </div>
                    <div class="moive-list-item">
                        <img class="moive-list-item-iamge" src="iamge/15.jpg" alt="Movie 15">
                        <span class="moive-list-item-title">Movie 15</span>
                        <p class="moive-list-itme-desc">Crime thriller with unexpected twists.</p>
                        <a href="ChoosePlace.html">
                          <button class="moive-list-item-button">Buy</button>
                        </a>
                    </div>
                    <div class="moive-list-item">
                        <img class="moive-list-item-iamge" src="iamge/16.jpg" alt="Movie 16">
                        <span class="moive-list-item-title">Movie 16</span>
                        <p class="moive-list-itme-desc">Historical drama set in a bygone era.</p>
                        <a href="ChoosePlace.html">
                          <button class="moive-list-item-button">Buy</button>
                        </a>
                    </div>
                    <div class="moive-list-item">
                        <img class="moive-list-item-iamge" src="iamge/17.jpg" alt="Movie 17">
                        <span class="moive-list-item-title">Movie 17</span>
                        <p class="moive-list-itme-desc">Adventure film with breathtaking landscapes.</p>
                        <a href="ChoosePlace.html">
                          <button class="moive-list-item-button">Buy</button>
                        </a>
                    </div>
                    <div class="moive-list-item">
                        <img class="moive-list-item-iamge" src="iamge/18.jpg" alt="Movie 18">
                        <span class="moive-list-item-title">Movie 18</span>
                        <p class="moive-list-itme-desc">Animation that delights audiences of all ages.</p>
                        <a href="ChoosePlace.html">
                          <button class="moive-list-item-button">Buy</button>
                        </a>
                    </div>
                    
                </div>
            </div>
        </div>
    </div>
  </div>

</body>
<script src="theme-switcher.js"></script>
<script>
  // API Base URL - Use localhost for local development
  const API_BASE_URL = 'http://localhost:8080';

  document.addEventListener('DOMContentLoaded', function() {
    const searchInput = document.getElementById('movieSearchInput');
    const searchButton = document.getElementById('searchButton');
    const searchModal = document.getElementById('searchResultsModal');
    const searchResultsContainer = document.getElementById('searchResultsContainer');
    const searchLoading = document.getElementById('searchLoading');
    const searchError = document.getElementById('searchError');
    const closeSearchModal = document.getElementById('closeSearchModal');
    const movieDetailsModal = document.getElementById('movieDetailsModal');
    const movieDetailsContainer = document.getElementById('movieDetailsContainer');
    const closeDetailsModal = document.getElementById('closeDetailsModal');

    // Search function
    async function searchMovies(query) {
      if (!query.trim()) return;

      searchModal.style.display = 'flex';
      searchLoading.style.display = 'flex';
      searchResultsContainer.innerHTML = '';
      searchError.style.display = 'none';

      try {
        const response = await fetch(`${API_BASE_URL}/movieapi?action=search&keyword=${encodeURIComponent(query)}`);
        const data = await response.json();

        searchLoading.style.display = 'none';

        if (data.success && data.movies && data.movies.length > 0) {
          displaySearchResults(data.movies);
        } else {
          searchError.textContent = 'No movies found. Try a different search term.';
          searchError.style.display = 'block';
        }
      } catch (error) {
        searchLoading.style.display = 'none';
        searchError.textContent = 'Failed to search movies. Make sure the server is running.';
        searchError.style.display = 'block';
        console.error('Search error:', error);
      }
    }

    // Display search results
    function displaySearchResults(movies) {
      searchResultsContainer.innerHTML = movies.map(movie => `
        <div class="search-result-card" data-imdbid="${movie.imdbID}">
          <img 
            src="${movie.Poster !== 'N/A' ? movie.Poster : 'https://via.placeholder.com/200x300?text=No+Poster'}" 
            alt="${movie.Title}"
            class="search-result-poster"
            onerror="this.src='https://via.placeholder.com/200x300?text=No+Poster'"
          />
          <div class="search-result-info">
            <h3 class="search-result-title">${movie.Title}</h3>
            <p class="search-result-year">${movie.Year}</p>
            <span class="search-result-type">${movie.Type}</span>
          </div>
          <button class="view-details-btn" data-imdbid="${movie.imdbID}">View Details</button>
          <a href="ChoosePlace.html?movie=${encodeURIComponent(movie.Title)}" class="book-now-btn">Book Now</a>
        </div>
      `).join('');

      // Add click handlers for view details buttons
      document.querySelectorAll('.view-details-btn').forEach(btn => {
        btn.addEventListener('click', () => getMovieDetails(btn.dataset.imdbid));
      });
    }

    // Get movie details
    async function getMovieDetails(imdbId) {
      movieDetailsModal.style.display = 'flex';
      movieDetailsContainer.innerHTML = '<div class="spinner"></div><p>Loading details...</p>';

      try {
        const response = await fetch(`${API_BASE_URL}/movieapi?action=details&imdbId=${imdbId}`);
        const data = await response.json();

        if (data.success && data.movie) {
          displayMovieDetails(data.movie);
        } else {
          movieDetailsContainer.innerHTML = '<p class="error">Failed to load movie details.</p>';
        }
      } catch (error) {
        movieDetailsContainer.innerHTML = '<p class="error">Failed to load movie details. Server may be unavailable.</p>';
        console.error('Details error:', error);
      }
    }

    // Display movie details
    function displayMovieDetails(movie) {
      movieDetailsContainer.innerHTML = `
        <div class="movie-details-layout">
          <div class="movie-poster-section">
            <img 
              src="${movie.Poster !== 'N/A' ? movie.Poster : 'https://via.placeholder.com/300x450?text=No+Poster'}" 
              alt="${movie.Title}"
              class="movie-details-poster"
              onerror="this.src='https://via.placeholder.com/300x450?text=No+Poster'"
            />
            <a href="ChoosePlace.html?movie=${encodeURIComponent(movie.Title)}" class="book-movie-btn">
              üé¨ Book Tickets Now
            </a>
          </div>
          <div class="movie-info-section">
            <h1 class="movie-details-title">${movie.Title} <span class="movie-year">(${movie.Year})</span></h1>
            
            <div class="movie-meta">
              <span class="movie-rating">‚≠ê ${movie.imdbRating || 'N/A'}</span>
              <span class="movie-runtime">üïê ${movie.Runtime || 'N/A'}</span>
              <span class="movie-rated">üìã ${movie.Rated || 'N/A'}</span>
            </div>
            
            <div class="movie-genres">
              ${(movie.Genre || '').split(', ').map(g => `<span class="genre-tag">${g}</span>`).join('')}
            </div>
            
            <div class="movie-section">
              <h3>Plot</h3>
              <p>${movie.Plot || 'No plot available.'}</p>
            </div>
            
            <div class="movie-section">
              <h3>Cast</h3>
              <p>${movie.Actors || 'N/A'}</p>
            </div>
            
            <div class="movie-section">
              <h3>Director</h3>
              <p>${movie.Director || 'N/A'}</p>
            </div>
            
            <div class="movie-section">
              <h3>Writer</h3>
              <p>${movie.Writer || 'N/A'}</p>
            </div>
            
            ${movie.Awards && movie.Awards !== 'N/A' ? `
            <div class="movie-section awards">
              <h3>üèÜ Awards</h3>
              <p>${movie.Awards}</p>
            </div>
            ` : ''}
            
            ${movie.BoxOffice && movie.BoxOffice !== 'N/A' ? `
            <div class="movie-section">
              <h3>üí∞ Box Office</h3>
              <p>${movie.BoxOffice}</p>
            </div>
            ` : ''}
          </div>
        </div>
      `;
    }

    // Event listeners
    searchButton.addEventListener('click', () => searchMovies(searchInput.value));
    
    searchInput.addEventListener('keypress', (e) => {
      if (e.key === 'Enter') {
        searchMovies(searchInput.value);
      }
    });

    closeSearchModal.addEventListener('click', () => {
      searchModal.style.display = 'none';
    });

    closeDetailsModal.addEventListener('click', () => {
      movieDetailsModal.style.display = 'none';
    });

    // Close modals when clicking outside
    searchModal.addEventListener('click', (e) => {
      if (e.target === searchModal) {
        searchModal.style.display = 'none';
      }
    });

    movieDetailsModal.addEventListener('click', (e) => {
      if (e.target === movieDetailsModal) {
        movieDetailsModal.style.display = 'none';
      }
    });

    // Close with Escape key
    document.addEventListener('keydown', (e) => {
      if (e.key === 'Escape') {
        searchModal.style.display = 'none';
        movieDetailsModal.style.display = 'none';
      }
    });
  });
</script>




<!-- FQC Footer
 <footer class="">

<div class="footerindex">
<div class="footerFQC">
<form class="foo" action="#" method="post">
  <h2>Frequently asked questions</h2>




</div>
    
</div>
</footer>


-->
  
</html>
